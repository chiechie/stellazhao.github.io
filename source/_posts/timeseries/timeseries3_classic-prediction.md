---
title: 时间序列2 统计分析模型
author: chiechie
mathjax: true
date: 2021-07-23 08:25:11
tags: 
- 最佳实践
- 人工智能
- 时序预测
- 量化交易
categories: 
- 时间序列
---



## 总结

1. 随机过程，由一系列按照时间排序的随机变量组成。

3. 序列的随机行为，由概率密度函数定义，如果能穷举出所有finite时间索引集合的概率分布，就可以确定该随机过程。

	>	 随机过程的定义并没有提到平移不变性。
	
3. 平移不变性是指，移动一个时间步之后，概率分布保持不变。

1. 严格平稳性，表示一个随机过程的所有finite时间索引集合对应的概率分布，都满足平移不变性。

5. 弱平稳性，也叫协方差平稳性，表示一个随机过程的所有2维时间索引集合对应的概率分布, 都满足平移不变性。例如，白噪声（white noise）过程就是平稳的。但随机游走（random walk）过程是非平稳的。而随机游走过程的一阶差分（first difference）是平稳的。

7. 满足弱平稳性的随机过程比满足强平稳的随机过程多的多。

7. 满足协方差平稳性的随机过程满足表示定理(wold representation):

8. 什么是好的模型？p尽可能小，或者ma中的q尽可能小。

9. 弱平稳随机过程${X_t}$的脉冲响应函数（impulse response function）表示某个时刻的噪声（innovation）怎么影响后面的随机过程，即the impact of the innovation on the process。

   > 脉冲响应函数，有点像这个因子的能量衰减函数，总能量(long-run cumalative response)=1,  每过一段时间，这个因子释放一点能量，从而对观测值造成影响，释放能量随时间逐渐疲乏，趋近于0.

10. $\psi$和$\psi^{-1}$类似收集能量（或者innovation造成的影响）和消除能量（或者innovation造成的影响）。

11. 对$X_t$进行消除能量操作（历史innovation的影响）之后，就只剩下当下时刻的innovation带来的影响了。

    如果$\psi$的逆存在，那么原始的ma过程等价于ar过程。即一个随机过程，既可以表达为从历史innovation中收集能量的过程，也可以表达为，对历史观测值中剔除能量的过程，观测值的系数就是自回归系数。

12. 经典的时序分析模型ARMA(p, q) 表示，对观测变量的多项式滞后操作+对噪声的多项式滞后操作，噪声$\eta_t$是一个维纳过程

13. 随机游走就是一个一阶自回归模型，但是非平稳.

14. 自回归模型如果满足，特征方程的p个根（复数），都在单位元外面，该随机过程是平稳的。本质上是对回归函数的逆函数施加的收敛性约束。

15. 如何对非平稳随机过程建模？先差分，那几个非平稳的例子验一验，比如随时间线性增长+白噪声，再比如

16. 金融数据大部分都是非平稳的，像随机游走，box和jenkins想出来了一种移除非平稳趋势的方法--差分

17. 平稳性测试：H0是原始序列是平稳的，

    1. KPSS测试

18. 非平稳性测试，H0假设是非平稳的，
    1. Dickey-Fuller (DF) Test的原假设H0: 原始序列为单位根的非平稳序列

1. DF测试是一种单位根检测，它的流程是这样的，先假设随机过程服从AR（1）模型，拟合一个AR（1）参数$\phi$​得到$\bar\phi$​，然后定义一个根$\phi$​​相关的统计量，$t_{\phi=1} = (\hat \phi - 1)/se(\hat \phi)$
   1. 如果 $\phi=1$, 那就应该观察到t服从一个DF分布，对应的随机过程就是是随机游走，是一个非平稳的随机过程。
   2. 如果$|\phi|<1$​,那么估计量和真实$\phi$​的差值就近似一个正态分布，以真实$\phi^2$​为方差。



## 附录



##平稳性的本质是什么？

时间序列分析中的平稳性，本质是时序数据的可预测性，即模型结果的靠谱程度。

在机器学习中，没有这个概念，机器学习更多的是无脑地估计参数，和预测结果，至于结果靠不靠谱，不是很关系。

现实中，很少有时间序列是平稳序列，要么周期波动，要么线性增长📈。

当我们观测到这些固定模式之后，可以从原始序列中剥离掉这些模式，研究剩下的信号（也叫残差），是否是一个可预测的过程，如果剩下的信号就是一堆类似白噪声的平稳的序列，我们就说原始的信号 - 周期信号- 增长信号是平稳的，而 周期信号和 增长信号也是固定的可以用方程表达的，所以说原始信号也是可以预测的信号，这个就使得我们对预测原始序列充满了信息。



当一个时序数据非平稳，比如有很明显的时间上的趋势时，




1. 相关系数：两个随机变量标准化到均值=0，方差=1之后的，求协方差。

2. wold representation定理

   ![wold representation](./image-20210715091517366.png)



### representation定理 

使用滞后算子表述representation定理

![image-20210715101032432](./image-20210715101032432.png)

### representation定理的应用--估计时间序列背后的分布

表示定义的应用-给定一个时间序列，希望确定背后的分布：

1. 假设：背后的随机过程由两部分构成，历史信息 + 白噪声，历史信息是过去p段时间的信息的线性变换，白噪声是的平稳的随机过程

2. 参数估计：使用最小二乘估计出线形变换

3. 模型诊断：基于假设+数据，推断出一些其他的统计量，将这些统计量带回假设，检验一致性。

   > 观测值减去历史信息，就是白噪声的观测值，接下来检测，这个白噪声是否如step1的 假设所描述

   1. 正交性检验：测试白噪声是否跟p个变量的相关性为0，不为0的话，就要将p的值变大，重新做实验。
   2. 检验是否是白噪声 : 不是白噪声的话，要么调整ma模型，要么在线性变换中加入更多的lag项，或者其他的确定性变量

![image-20210715095528794](./image-20210715095528794.png)



### ARMA模型

![image-20210715140721430](./image-20210715140721430.png)

3. AR（p）模型的平稳条件：

   ![image-20210715145052508](./image-20210715145052508.png)

4. yuler walker方程：AR（P）的协方差$\gamma$和$\phi$满足的某个方程

5. 有了协方差矩阵的估计量，求yuler walker方程，就可以得出AR（p）的p个参数，再就可以算出波动率。
6. ![image-20210715153433604](./image-20210715153433604.png)
   1. 使用原始的p阶自回归过程，

 

## 参考

1. [Time Series Analysis I--youtube](https://www.youtube.com/watch?v=uBeM1FUk4Ps&t=362s)
2. [Time Series Analysis---slide](https://ocw.mit.edu/courses/mathematics/18-s096-topics-in-mathematics-with-applications-in-finance-fall-2013/)
3. [Topics in Mathematics with Applications in Finance-open course](https://ocw.mit.edu/courses/mathematics/18-s096-topics-in-mathematics-with-applications-in-finance-fall-2013/)
4. https://www.zhihu.com/search?type=content&q=%E5%B9%B3%E7%A8%B3%E6%80%A7
