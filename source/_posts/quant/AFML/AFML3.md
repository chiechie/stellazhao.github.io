---
title: ã€ŠAdvances in Financial Machine Learningã€‹è¯»ä¹¦ç¬”è®°3 å›æµ‹
author: chiechie
mathjax: true
date: 2021-07-07 11:08:30
tags: 
- é‡åŒ–
- æŠ•èµ„
categories:
- é‡åŒ–
---

## chapter 10  ä»“ä½å¤§å°

> å³ä½¿è‚¡ä»·é¢„æµ‹å¾ˆå‡†ï¼Œä½†æ˜¯ä»“ä½é…ç½®çš„ä¸å½“ï¼Œè¿˜æ˜¯ä¼šäºé’±ã€‚

1. å‡å®šä¸‰æœŸè‚¡ä»·ä¸º [1, 0.5, 1.25]ï¼Œä»“ä½1: [0.5, 1, 0] & ä»“ä½2: [1, 0.5, 0]ï¼Œåˆ™å‰è€…æŒ£é’±è€Œåè€…äºé’±ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œæ›´åå¥½è¿™æ ·çš„ä¸‹æ³¨ç­–ç•¥ï¼šå»ºä»“æ—¶ä¿ç•™ä¸€äº›ç°é‡‘ï¼Œå¦‚æœäº¤æ˜“ä¿¡å·åŠ å¼ºï¼ˆè‚¡ä»·å˜ä¸º0.5ï¼‰ï¼Œå°±è¿½åŠ æŠ•èµ„ã€‚

3. ä¸‹å›¾æ˜¯äº¤æ˜“ä¿¡å·(z)å’Œæœ€ä½³ä¸‹æ³¨å¤§å°(m)ä¹‹é—´çš„å‡½æ•°å…³ç³»ï¼š
  
   æ¨ªè½´çš„zè¡¨ç¤ºäº¤æ˜“ä¿¡å·å¼ºå¼±ï¼Œçºµè½´mä»£è¡¨æœ€ä½³ä¸‹æ³¨å¤§å°ï¼š$m = x (2Z [z] âˆ’ 1), m\in{[-1,1]}$
   
   äº¤æ˜“ä¿¡å·zæ˜¯æ¨¡å‹é¢„æµ‹ç»“æœxçš„å‡½æ•°ï¼Œé¢„æµ‹ç»“æœxè¶Šæç«¯ï¼Œåˆ™åˆ†æ¯è¶Šå°ï¼Œåˆ†å­ç»å¯¹å€¼è¶Šå¤§ï¼Œ zè¶Šæ¥è¿‘$+\infty$æˆ–è€…$-\infty$ï¼Œåˆ™äº¤æ˜“ä¿¡å·è¶Šå¼º, ä½†æ˜¯å¯ä»¥çœ‹åˆ°ä»“ä½è¶…è¿‡ä¸€å®šèŒƒå›´å°±é¥±å’Œäº†ã€‚
   
   æ€»çš„æ¥è¯´ï¼Œäº¤æ˜“ä¿¡å·è¶Šå¼ºï¼Œä¸‹æ³¨è¶Šå¤§ï¼Œä½†æ˜¯ï¼Œå½“äº¤æ˜“ä¿¡å·å¼ºåº¦è¶…è¿‡ä¸€å®šå€¼ï¼Œå°±å¯ä»¥ä¸ç”¨åŠ ä»“ï¼Œæœ€ä½³æŒä»“æ°´å¹³må¯ä»¥ä¿æŒä¸å˜ï¼Œè¿™ä¸€ç‚¹è·Ÿç›´è§‰æ˜¯ç¨³å’Œçš„ï¼Œä»·æ ¼çŒ›æ¶¨å¤šäº†ä¸€æ®µæ—¶é—´ä¹‹åï¼Œå†å¾€ä¸Šèµ°å°±å¾ˆéš¾äº†ï¼Œè¿™ä¸ªæ—¶å€™ä¸èƒ½è¿½é«˜ã€‚
   
   ![image-20210711134750210](./image-20210711134750210.png)
   
3. å¦‚æœæ¯æ¬¡é¢„æµ‹æ—¶ï¼Œå¦‚æœäº¤æ˜“ä¿¡å·çš„å¾®å°æ”¹å˜å°±è¦è°ƒä»“ï¼Œé‚£æ¢æ‰‹ç‡å°±å¤ªé«˜äº†ï¼Œä½œè€…å»ºè®®å¯ä»¥å¯¹é¢„æµ‹ç»“æœåšæ»‘åŠ¨å¹³å‡ï¼Œæˆ–è€…å°†ä¸‹æ³¨é‡ç¦»æ•£åŒ–ï¼ˆå¦‚ä¸‹å›¾ï¼‰![image-20210711140908880](./image-20210711140908880.png)

4. åŠ¨æ€BET SIZES å’Œ é™ä»·ï¼šå½“è‚¡ç¥¨çš„å¸‚åœºä»·æ ¼$p_t$å’Œé¢„æµ‹ä»·æ ¼$f_t$æ³¢åŠ¨æ—¶ï¼Œå¯ç”¨å¦‚ä¸‹æ–¹æ³•åŠ¨æ€åœ°ç¡®å®šä¸‹æ³¨é‡$\hat{q}_{i, t}$ï¼š
   $$\hat{q}_{i, t}=\operatorname{int}\left[\frac{x}{\sqrt{w+x^{2}}} \cdot Q\right]$$
   $x=f_{i}-p_{t}$ä¸ºé¢„æµ‹ä»·ä¸å½“å‰ä»·çš„å·®ä»·ï¼Œå¦‚æœxç»å¯¹å€¼å¤§äº0ï¼Œè¯´æ˜å½“å‰å¸‚åœºå‡ºç°äº†å¥—åˆ©ç©ºé—´ï¼Œç»å¯¹å€¼è¶Šå¤§ï¼Œè¶Šè¦æŠ¼æ³¨ï¼Œ

 Qä¸ºæœ€å¤§æŒä»“é‡,  *ğœ”*æ˜¯ä¸€ä¸ªç”¨æ¥æ§åˆ¶sigmoidçš„å®½åº¦çš„ç³»æ•°ï¼Œ *ğœ”*è¶Šå°ï¼Œç­–ç•¥å°±è¶Šä¿å®ˆã€‚


## chapter 11 å›æµ‹æœ‰é£é™©

å›æµ‹æ˜¯é‡åŒ–ä¸­æœ€é‡è¦ä½†ä¹Ÿæœ€å®¹æ˜“è¢«è¯¯ç”¨çš„å·¥å…·ï¼Œæœ¬ç« å°†ä»‹ç»å›æµ‹æ—¶å®¹æ˜“çŠ¯çš„é”™è¯¯ã€‚

1. ä¸€ä¸ªç‰©ç†å®éªŒå®¤å¯ä»¥é€šè¿‡æ§åˆ¶å˜é‡æ¥æ¢ç©¶ç²¾ç¡®çš„å› æœå…³ç³»ï¼Œè€Œå›æµ‹ä¸æ˜¯å®éªŒï¼Œå®ƒå¹¶ä¸èƒ½è¯æ˜ä¸€ä¸ªç­–ç•¥å¥½ï¼Œåªèƒ½è¯æ˜ä¸€ä¸ªç­–ç•¥ä¸å¥½ã€‚
2. è¦åšå¥½å›æµ‹æå…¶å›°éš¾ï¼Œæˆ‘ä»¬è‡³å°‘ä¼šé¢ä¸´è¿™äº›é—®é¢˜:
   - å¹¸å­˜è€…åå·®ï¼šåªç”¨ç°å­˜çš„è‚¡ç¥¨æ„å»ºæŠ•èµ„ç»„åˆå›æµ‹ï¼Œæ®Šä¸çŸ¥è¿‡å»å¤šå°‘å…¬å¸å€’é—­é€€å¸‚äº†ï¼›
   - Look-ahead biasï¼šå›æµ‹æ—¶ç”¨åˆ°çš„æ•°æ®åœ¨é‚£ä¸€åˆ»è¿˜æ²¡å‘å¸ƒï¼›
   - äº‹åè¯¸è‘›äº®ï¼ˆå„ç§äº‹ååˆ†æéƒ½åœ¨ç¼–æ•…äº‹ï¼‰ï¼›
   - æ‰‹ç»­è´¹ï¼šè¦æ¨¡æ‹Ÿæ‰‹ç»­è´¹å¾ˆéš¾ï¼Œå”¯ä¸€å‡†ç¡®çš„æ–¹å¼æ˜¯ä¸Šå®ç›˜ï¼›
   - ç©ºå¤´ï¼šå®é™…äº¤æ˜“ä¸­å¦‚ä½•æ‰¾å€Ÿæ–¹ã€ç©ºå¤´çš„æˆæœ¬ã€ç©ºå¤´çš„é¢åº¦éƒ½éœ€è¦è€ƒè™‘ï¼›
3. å³ä½¿é¿å…äº†ä»¥ä¸Šé—®é¢˜ï¼Œä½ çš„å›æµ‹ä¹Ÿå¯èƒ½æ˜¯é”™çš„â€”â€”åœ¨ä¸€ä¸ªæ•°æ®é›†ä¸Šå›æµ‹äº†æˆç™¾ä¸Šåƒæ¬¡æ‰å¾—åˆ°çš„æ¼‚äº®ç»“æœï¼Œå¤§æ¦‚ç‡æ˜¯å‡çš„ã€‚å¦‚ç¬¬å…«ç« æ‰€è¿°ï¼Œç‰¹å¾é‡è¦æ€§åˆ†æå¸®åŠ©æˆ‘ä»¬ç†è§£ ML å‘ç°çš„ç»“æœï¼Œå®ƒåœ¨å›æµ‹ä¹‹å‰è¿›è¡Œï¼Œæ˜¯ä¸€ç§â€œäº‹å‰â€œå½’å› ã€‚ç›¸åï¼Œå›æµ‹å¹¶ä¸èƒ½å¸®æˆ‘ä»¬ç†è§£ä¸ºä»€ä¹ˆä¸€ä¸ªç­–ç•¥ä¼šç›ˆåˆ©ã€‚é€šè¿‡å›æµ‹å‘ç°çš„æœ‰æ•ˆâ€œå› å­â€å¦‚åŒä¸Šä¸€æœŸå½©ç¥¨çš„ä¸­å¥–å·ç ï¼Œå¯¹ä¸‹ä¸€è½®æŠ½å¥–æ— ç›Šã€‚å›æµ‹å‰åšå¥½æ•°æ®ç»“æ„åŒ–ã€æ ‡ç­¾ã€åŠ æƒæ¯”å›æµ‹æœ¬èº«æ›´é‡è¦ã€‚
4. é‡å¤å›æµ‹å¸¦æ¥çš„è¿‡æ‹Ÿåˆå¯ä»¥è®¤ä¸ºæ˜¯ä¸€ç§é€‰æ‹©åå·®ï¼Œè¦é¿å…è¿™ç§åå·®å¯èƒ½æ˜¯é‡åŒ–ä¸­æœ€æ ¹æœ¬çš„é—®é¢˜ã€‚
5. ä»¥ä¸‹æ­¥éª¤å¯ä»¥å¸®æˆ‘ä»¬å‡å°‘è¿™ç§åå·®: 
   - åœ¨å¤šç§é‡‘èèµ„äº§ä¸Šå›æµ‹ï¼šç”±äºé‡‘èèµ„äº§çš„å¤šæ ·æ€§ï¼Œå¦‚æœä½ å‘ç°é”™è¯¯  åªå­˜åœ¨äºå€ºåˆ¸ï¼Œé‚£è¯¥ç­–ç•¥å¾ˆå¯èƒ½æ˜¯é”™çš„ï¼›
   - ç”¨ bagging å‡å°‘è¿‡æ‹Ÿåˆï¼›åœ¨å®Œæˆæœ¬ä¹¦ç« èŠ‚1-10 çš„ç ”ç©¶ä¹‹å‰åˆ«å›æµ‹ï¼›
   - è®°å½•å¾—åˆ°å½“å‰ç»“æœä¹‹å‰å›æµ‹äº†å¤šå°‘æ¬¡ï¼Œä»è€Œæ¨ç®—å‡ºè¿‡æ‹Ÿåˆçš„å¯èƒ½æ€§ï¼›
   - å‡å¦‚å›æµ‹ç»“æœæ²¡èƒ½å¾—åˆ°æœ‰æ•ˆçš„ç­–ç•¥ï¼Œä»å¤´å¼€å§‹ã€‚åƒä¸‡ä¸è¦åœ¨å›æµ‹ç»“æœçš„åŸºç¡€ä¸Šç»§ç»­ç ”ç©¶ã€‚
   > Backtesting while researching is like drinking and driving.
   > Do not research under the influence of a backtest.
6. å¦‚æœç”¨æ ‡å‡†CVå›æµ‹æ¥é€‰æ‹©ç­–ç•¥ï¼Œä¸€äº›å›æµ‹è·¯å¾„ä¼šé‡å¤å‡ºç°ï¼Œå¯¼è‡´ææ˜“è¿‡æ‹Ÿåˆã€‚æ‰€ä»¥ä¸€äº›éšæœºæ€§éå¸¸æœ‰å¿…è¦ï¼Œä¾‹å¦‚åŸºäºprobability of backtest overfitting (PBO) çš„å›æµ‹ã€‚


## chapter 12 ä½¿ç”¨äº¤å‰éªŒè¯åšå›æµ‹

æœ¬ç« å°†ä»‹ç»ä¸‰ç§å›æµ‹æ–¹æ³•:å‘å‰æ¸¸èµ°;äº¤å‰éªŒè¯ï¼Œå¸Œæœ›èƒ½å¾—åˆ°æ›´å‡†ç¡®çš„å›æµ‹ç»“æœã€‚

1. å‘å‰æ¸¸èµ°å³åœ¨å›æµ‹æ—¶ï¼Œä½¿ç”¨å†å²æ•°æ®æ¥æ£€éªŒç­–ç•¥çš„æ ·æœ¬å¤–è¡¨ç°ï¼Œå†å²æ•°æ®æœ‰ä¸¤ç§ç”¨æ³•ï¼š

   1. ç‹­ä¹‰ä¸Šï¼Œæ¨¡æ‹Ÿç­–ç•¥çš„å†å²è¡¨ç°ï¼ˆwalk-forwardï¼ŒWFï¼‰ï¼›

   2. å¹¿ä¹‰ä¸Šï¼Œæ¨¡æ‹Ÿç­–ç•¥åœ¨ç‰¹å®šå¸‚åœºç¯å¢ƒï¼ˆå†å²ä¸Šä¸ä¸€å®šå‘ç”Ÿè¿‡ï¼‰ä¸­çš„è¡¨ç°ã€‚

      å‰ä¸€ç§æ–¹å¼æ›´å¹¿ä¸ºäººçŸ¥ï¼Œä½†ä¸¤ç§æ–¹å¼å„æœ‰åˆ©å¼Šï¼Œéƒ½åº”æŒæ¡ã€‚

2. å‘å‰æ¸¸èµ°çš„ä¼˜ç‚¹ï¼š
   1. æœ‰æ¸…æ™°çš„å†å²æ„ä¹‰ï¼Œä¸æ¨¡æ‹Ÿç›˜çš„ç»“æœä¸€è‡´ï¼›
   2. æµ‹è¯•é›†åœ¨è®­ç»ƒé›†ä¹‹åï¼Œåªè¦æ­£ç¡® purging åå°±ä¸å­˜åœ¨ä¿¡æ¯æ³„éœ²ï¼ˆè§ç¬¬ä¸ƒç« ï¼‰ã€‚

3. å‘å‰æ¸¸èµ°çš„ç¼ºç‚¹ï¼š

   1.  åªæœ‰ä¸€ç§æƒ…æ™¯æµ‹è¯•ï¼ˆå³å†å²é‡æ¼”ï¼‰ï¼Œå®¹æ˜“è¿‡æ‹Ÿåˆï¼›
   2. ä¸è¶³ä»¥ä»£è¡¨æœªæ¥çš„è¡¨ç°ï¼Œå› ä¸ºå›æµ‹ç»“æœå¯èƒ½å—åˆ°ç‰¹å®šæ•°æ®çš„å½±å“è€Œäº§ç”Ÿåå·®ï¼›
   3. å›æµ‹æ—¶æ•°æ®åˆ©ç”¨ç‡ä¸é«˜ï¼ˆâ€œmost of the information is used by only a small portion of the decisionsâ€ï¼‰

4. äº¤å‰éªŒè¯ï¼ˆcross-validationï¼‰å¾—åˆ°ä¸€ä¸ªæ–°ç­–ç•¥æ—¶ï¼ŒæŠ•èµ„è€…å¾€å¾€æƒ³çŸ¥é“è¿™ä¸ªç­–ç•¥åœ¨â€œéå¸¸æ—¶æœŸâ€ï¼Œå¦‚08å¹´é‡‘èå±æœºã€15å¹´è‚¡ç¾ä¸­è¡¨ç°å¦‚ä½•ã€‚å¯ä»¥å°†æˆ‘ä»¬å¸Œæœ›æµ‹è¯•çš„æ—¶æœŸåˆ’ä¸ºæµ‹è¯•é›†ï¼Œå…¶ä»–æ—¶æœŸåˆ’ä¸ºè®­ç»ƒé›†ï¼Œä¾‹å¦‚å°† 2008å¹´ä½œä¸ºæµ‹è¯•é›†ï¼Œ2009è‡³ä»Šä½œä¸ºè®­ç»ƒé›†ã€‚è®­ç»ƒé›†åœ¨æµ‹è¯•é›†ä¹‹åçš„åˆ’åˆ†ä»å†å²è§’åº¦æ¥çœ‹å¹¶ä¸å‡†ç¡®ï¼ˆnot historically accurateï¼‰ï¼Œä½†é€šè¿‡ CVå›æµ‹çš„ç›®çš„å¯¹ç­–ç•¥åšæƒ…æ™¯æµ‹è¯•ï¼ˆscenariosï¼‰ï¼Œä»è€Œæ¨æ–­ç­–ç•¥åœ¨æœªæ¥çš„è¡¨ç°ã€‚

> For each period of the backtest, we simulate the performance of a classifier that knew everything except for that period.

5. äº¤å‰éªŒè¯çš„ç¼ºç‚¹ï¼š
   1. åªæœ‰ä¸€æ¡å›æµ‹è·¯å¾„ï¼ˆå°½ç®¡ä¸æ˜¯å†å²è·¯å¾„ï¼‰ï¼›
   2. æ²¡æœ‰æ˜ç¡®çš„å†å²æ„ä¹‰ï¼›
   3. ç”±äºæµ‹è¯•é›†å¯èƒ½ä½äºè®­ç»ƒé›†ä¹‹å‰ï¼Œå®¹æ˜“å‘ç”Ÿä¿¡æ¯æ³„éœ²ã€‚
6. æ··åˆpurgedäº¤å‰éªŒè¯ (CPCV)å…‹æœäº†å‘å‰æ¸¸èµ°å’Œäº¤å‰éªŒè¯çš„ç¼ºç‚¹ã€‚å‡å®šå°†å…¨æ•°æ®é›†åˆ†ä¸º N ä»½ï¼Œå…¶ä¸­ k ä»½ä½œä¸ºæµ‹è¯•é›†ï¼Œå…¶ä½™ä½œä¸ºè®­ç»ƒé›†ï¼Œåˆ™å…±æœ‰$C_N^k$ç§åˆ’åˆ†æ–¹æ¡ˆã€‚æ‰€æœ‰å›æµ‹è·¯å¾„æ•° ï¼ˆå¦‚ä¸‹å›¾æ‰€ç¤ºï¼‰
   ![img_2.png](./img_2.png)
7. Assignment of testing groups to each of the 5 pathsï¼ŒæŒ‰ç…§åˆ’åˆ†ä¾æ¬¡åœ¨è®­ç»ƒé›†ä¸Šè®­ç»ƒã€æµ‹è¯•é›†ä¸Šæµ‹è¯•ï¼Œæœ€åå¯ä»¥è®¡ç®—$\varphi[N, k]$æ¡è·¯å¾„åˆ†åˆ«çš„æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚å¤æ™®ç‡ï¼‰ï¼Œä»è€Œæ›´å…¨é¢åœ°è€ƒå¯Ÿæ¨¡å‹è¡¨ç°ã€‚å‘å‰æ¸¸èµ°å’Œäº¤å‰éªŒè¯ï¼Œæ··åˆpurgedäº¤å‰éªŒè¯å¾—åˆ°çš„ç»“æœï¼ˆå¦‚å¤æ™®ç‡ï¼‰æ–¹å·®å°ï¼Œä»è€Œèƒ½å‡å°‘è¿‡æ‹Ÿåˆçš„å¯èƒ½ã€‚



## chapter 13 åœ¨åˆæˆæ•°æ®ä¸Šåšå›æµ‹

æœ¬ç« ä»¥ OU è¿‡ç¨‹ä¸ºä¾‹ï¼Œè¯´æ˜äº†å¦‚ä½•åˆæˆæ•°æ®å¹¶è¿›è¡Œå›æµ‹ï¼Œä¹Ÿå¯ä»¥å°è¯•å…¶å®ƒå»ºæ¨¡æ–¹å¼ã€‚

1. ä½¿ç”¨å†å²æ•°æ®ç”Ÿæˆä¸€ä¸ªåˆæˆæ•°æ®ï¼šå…ˆä»ä»çœŸå®æ•°æ®ä¼°è®¡å¾—åˆ°çš„åˆ†å¸ƒï¼Œç„¶åä»åˆ†å¸ƒä¸­é‡‡æ ·å¾—åˆ°åˆæˆæ•°æ®ã€‚

2. ä½¿ç”¨åˆæˆæ•°æ®å»åšå›æµ‹çš„å¥½å¤„æ˜¯ï¼Œå¯ä»¥æµ‹è¯•å¾ˆå¤šæ¬¡ï¼Œåœ¨unseençš„æƒ…å†µä¸‹ï¼Œå‡å°‘è¿‡æ‹Ÿåˆæ¦‚ç‡ã€‚

3. äº¤æ˜“ç­–ç•¥å‡å®šå¸‚åœºä¸æ˜¯æœ‰æ•ˆçš„ï¼Œå®ƒä»¬ç”¨åŸºæœ¬é¢ / æŠ€æœ¯é¢åˆ†æè¯•å›¾æ‰¾åˆ°å¥—åˆ©æœºä¼šã€‚

4. äº¤æ˜“ç­–ç•¥åƒå˜ä¸‡åŒ–ï¼Œä½†äº¤æ˜“è§„åˆ™å¤§åŒå°å¼‚ï¼šæ¯”å¦‚ç­–ç•¥çš„ä¿¡å·å¼ºäºé˜ˆå€¼åˆ™ä¹°å…¥ï¼Œè¾¾åˆ°ç›ˆåˆ©æˆ–æ­¢æŸç‚¹åˆ™å–å‡ºï¼Œè¿™é‡Œçš„é˜ˆå€¼ã€ç›ˆåˆ©æ­¢æŸç‚¹å°±æ˜¯äº¤æ˜“è§„åˆ™ã€‚å¦‚æœç”¨åˆæˆæ•°æ®å›æµ‹æ¥ç¡®å®šäº¤æ˜“è§„åˆ™ï¼Œåˆ™è¿‡æ‹Ÿåˆçš„é£é™©å°†å¤§å¤§å‡å°ã€‚

5. ç”¨ç¦»æ•£OUè¿‡ç¨‹ï¼ˆdiscrete O-U processï¼‰å¯¹èµ„äº§ä»·æ ¼å»ºæ¨¡ï¼Œç»™å®šèµ„äº§iå½“å‰ä»·æ ¼å’Œæœªæ¥é¢„æµ‹ä»·æ ¼ï¼Œå…¶åœ¨ t æ¬¡äº¤æ˜“åçš„ç›ˆäº$\pi_{i,t}$æœä»æ­£æ€åˆ†å¸ƒã€‚å¯ä»¥æ­¤ä¸ºä¾æ®æ¨¡æ‹Ÿä»·æ ¼èµ°åŠ¿è¿›è¡Œå®éªŒï¼Œå¾—åˆ°æœ€ä½³äº¤æ˜“è§„åˆ™ï¼Œè€Œæ— éœ€ç”¨çœŸå®å†å²æ•°æ®å›æµ‹ã€‚

	> OUè¿‡ç¨‹æœ‰ä¸‹é¢çš„[éšæœºå¾®åˆ†æ–¹ç¨‹](https://zh.wikipedia.org/wiki/éš¨æ©Ÿå¾®åˆ†æ–¹ç¨‹)
   >
   > $${\displaystyle dx_{t}=-\theta \,x_{t}\,dt+\sigma \,dW_{t}}$$

7. æ€»è€Œè¨€ä¹‹ï¼Œé€šè¿‡æ¢ç©¶å¯¼è‡´ä»·æ ¼æ³¢åŠ¨çš„éšæœºè¿‡ç¨‹ï¼Œè€Œä¸æ˜¯åœ¨çœŸå®å†å²æ•°æ®ä¸Šå›æµ‹ï¼Œå°½ç®¡è¿™æ ·å¾—åˆ°çš„äº¤æ˜“è§„åˆ™å¯èƒ½ä¸æ˜¯æœ€ä¼˜çš„ï¼Œä½†ä¹Ÿè¿œå¥½äºè¿‡æ‹Ÿåˆçš„ç»“æœã€‚


## chapter 14 å›æµ‹ç»Ÿè®¡

1. å›æµ‹çš„ä¸‰ç§èŒƒå¼ï¼š
    - å†å²æ¨¡æ‹Ÿï¼Œå‘å‰æ¸¸èµ°
    - æƒ…æ™¯æ¨¡æ‹Ÿï¼šäº¤å‰éªŒè¯
    - åœ¨åˆæˆæ•°æ®ä¸Šåšsimulation

2. å›æµ‹ç»Ÿè®¡é‡ï¼ˆBacktest statisticsï¼‰åº”è¯¥å¸®åŠ©æ­éœ²ç­–ç•¥çš„å¼Šç«¯ï¼ˆå¦‚å¯èƒ½çš„é£é™©ï¼‰ã€å¸®åŠ©æŠ•èµ„è€…æ¯”è¾ƒä¸åŒç­–ç•¥ã€‚

3. ä¸€èˆ¬ç»Ÿè®¡é‡ï¼ˆgeneral characteristicsï¼‰èƒ½å‘Šè¯‰æˆ‘ä»¬å›æµ‹çš„å¤§è‡´ç‰¹æ€§ï¼šæ—¶é—´èŒƒå›´ï¼ˆå›æµ‹èµ·è®«æ—¶é—´ï¼‰ã€èµ„äº§è§„æ¨¡ï¼ˆAverage AUMï¼‰ ï¼Œç­–ç•¥çš„èµ„é‡‘å®¹é‡ï¼ˆCapacityï¼‰ã€æ æ†ç‡ï¼ˆLeverageï¼‰ã€å¹³å‡æŒä»“æ—¶é—´ï¼ˆAverage holding periodï¼‰ã€æ¢æ‰‹ç‡ï¼ˆAnnualized turnoverï¼‰ï¼ŒMaximum dollar position size/Ratio of longs/Frequency of bets

4. è¡¡é‡ç­–ç•¥è¡¨ç°ï¼ˆperformanceï¼‰çš„ç»Ÿè®¡é‡åŒ…æ‹¬ï¼šç›ˆäºï¼ˆPnL, Profit and Lossï¼‰ã€å¤šå¤´ç›ˆäºï¼ˆPnL from long positionsï¼‰ã€å¹´åŒ–å›æŠ¥ç‡ï¼ˆAnnualized rate of returnï¼‰ã€å‘½ä¸­ç‡ï¼ˆhit ratioï¼‰ã€å‘½ä¸­å›æŠ¥ç‡ï¼ˆAverage return from hitsï¼‰ã€å¤±è¯¯å›æŠ¥ç‡ï¼ˆAverage return from missesï¼‰â€¦â€¦

5. ç­–ç•¥çš„å›æŠ¥ç‡å¾€å¾€åœ¨ä¸€æ®µæ—¶é—´å†…è¿ç»­ä¸ºæ­£ / è´Ÿï¼Œç§°ä¹‹ä¸ºâ€œå‘¨æœŸâ€ï¼ˆRunsï¼‰ã€‚å‘¨æœŸçš„å­˜åœ¨å¢åŠ äº†ç­–ç•¥å›æ’¤çš„é£é™©ï¼Œæ‰€ä»¥éœ€è¦ä¸€äº›ç»Ÿè®¡é‡æ¥è¡¡é‡ï¼ŒåŒ…æ‹¬ï¼šReturns Concentrationï¼ˆè¡¡é‡å›æŠ¥çš„é›†ä¸­ç¨‹åº¦ï¼‰ã€drawdownï¼ˆå›æ’¤ï¼‰ã€time under waterã€‚

6. æŸäº›ç­–ç•¥é”™è¯¯åœ°ä¼°è®¡äº¤æ˜“è´¹ç”¨å¯¼è‡´å¤±è´¥ï¼Œè¿™äº›éœ€è¦è€ƒè™‘çš„ç»Ÿè®¡é‡åŒ…æ‹¬ï¼šBroker fees per turnoverã€Average slippage per turnoverâ€¦â€¦

7. å›æµ‹é€šå¸¸çœ‹ä»¥ä¸‹æŒ‡æ ‡ï¼š

   1. ç»å¯¹æ”¶ç›Šï¼šå‡€æŸå¤±/æ”¶ç›Šï¼ˆNet Profit/Lossï¼‰ï¼ŒæŠ•èµ„æ”¶ç›Šç‡
   2. å‰”é™¤é€šè´§è†¨èƒ€çš„æ”¶ç›Šï¼šé£é™©è°ƒæ•´ä¹‹åçš„æ”¶ç›Šç‡ï¼ˆrisk-adjusted returnï¼‰ï¼Œå¸‚åœºæ•å£ï¼Œæ³¢åŠ¨æ€§ï¼ˆæœ€å¤§å›æµ‹ï¼‰

8. ä¸€äº›è€ƒè™‘åˆ°é£é™©çš„ç»Ÿè®¡é‡åŒ…æ‹¬ï¼šå¤æ™®ç‡ï¼ˆSharpe Ratioï¼ŒSRï¼‰ã€æ¦‚ç‡å¤æ™®æ¯”ç‡ï¼ˆProbabilistic SRï¼Œ PSRï¼‰ã€DSRï¼ˆDeflated SRï¼‰ã€ä¿¡æ¯ç‡ï¼ˆInformation ratioï¼‰â€¦â€¦

   > å¤æ™®ç‡è¡¡é‡çš„æ˜¯ä¸€é¡¹æŠ•èµ„åœ¨å¯¹å…¶è°ƒæ•´é£é™©åï¼Œç›¸å¯¹äºæ— é£é™©èµ„äº§çš„è¡¨ç°ã€‚
   >
   > å¤æ™®ç‡ = (æŠ•èµ„æ”¶ç›Š - æ— é£é™©æ”¶ç›Š)/æŠ•èµ„æ ‡å‡†å·®(oræ³¢åŠ¨ç‡ï¼‰ã€‚
   >
   > å¤æ™®ç‡ä»£è¡¨æŠ•èµ„è€…é¢å¤–æ‰¿å—çš„æ¯ä¸€å•ä½é£é™©æ‰€è·å¾—çš„é¢å¤–æ”¶ç›Šã€‚

   ![image-20210712151844519](./image-20210712151844519.png)

   - Usually, any **Sharpe ratio** greater than 1.0 is considered acceptable to good by investors. 
   - A **ratio** higher than 2.0 is rated as very good.
   -  A **ratio** of 3.0 or higher is considered excellent. 
   - A **ratio** under 1.0 is considered sub-optimal.
> Every backtest result must be reported in conjunction with all the trials involved in its production. Absent that information, it is impossible to assess the backtestâ€™s â€œfalse discoveryâ€œ probability.
â€”â€” MARCOSâ€™ THIRD LAW OF BACKTESTING

8. åŸºé‡‘ç»ç†å¾€å¾€å¸Œæœ›å¯¹æ¨¡å‹çš„æ”¶ç›Šè¿›è¡Œå½’å› ï¼ˆperformance attributionï¼‰ï¼Œå¯ä»¥å‚è€ƒå¤šå› å­æ¨¡å‹ï¼ˆBarraâ€™s multi-factor methodï¼‰ã€‚



## chapter 15 äº†è§£ç­–ç•¥é£é™©





1. æ‰€æœ‰ç­–ç•¥éƒ½æœ‰ç›ˆåˆ©ç‚¹å’Œæ­¢æŸç‚¹ï¼Œæ‰€ä»¥å¯ä»¥å¯¹ç­–ç•¥çš„æ”¶ç›Šå»ºæ¨¡ï¼Œæ£€éªŒç­–ç•¥å¯¹ä¸€äº›å‚æ•°çš„æ•æ„Ÿç¨‹åº¦ã€‚

2. å‡å®šä¸€ä¸ªç­–ç•¥æ¯å¹´è¿›è¡Œ næ¬¡ IID å†³ç­–ï¼Œæ¯ä¸€æ¬¡æœ‰pçš„æ¦‚ç‡ç›ˆåˆ©$\pi$ï¼Œ1-pçš„æ¦‚ç‡ç›ˆåˆ©$-\pi$ï¼Œåˆ™è¯¥ç­–ç•¥çš„å¹´åŒ–å¤æ™®æ¯”ç‡ä¸ºï¼š

   $$\theta[p, n]=\frac{2 p-1}{2 \sqrt{p(1-p)}} \sqrt{n}$$

3. ä½é¢‘äº¤æ˜“ï¼šæ ¹æ®ä¸Šé¢çš„å…¬å¼ï¼Œå¦‚æœäº¤æ˜“é¢‘ç‡nä¸é«˜ï¼Œåˆ™éœ€è¦è¾ƒå¤§çš„pæ‰èƒ½è¾¾åˆ°é«˜å¤æ™®æ¯”ç‡ã€‚

4. é«˜é¢‘äº¤æ˜“:ï¼šå³ä½¿pç•¥å¤§äº 0.5ï¼Œåªè¦nè¶³å¤Ÿå¤§ï¼Œå¤æ™®æ¯”ç‡ä¹Ÿå¯ä»¥å¾ˆå¤§ï¼Œè¿™æ˜¯çš„æ€è·¯ã€‚

5. ç­–ç•¥é£é™©ï¼ˆStrategy riskï¼‰å’Œèµ„äº§ç»„åˆé£é™©ï¼ˆportfolio riskï¼‰,å‡å®š$p_{\theta}$ä¸ºä¾ç…§ä¸Šé¢å…¬å¼è®¡ç®—å¾—åˆ°çš„ç›ˆäºå¹³è¡¡ç‚¹

   1. ç­–ç•¥é£é™©æŒ‡ $P\left[p < p_{\theta}\right]$, nå¾ˆå¤§æ—¶ï¼Œpçš„å°å¹…æ³¢åŠ¨ä¼šå¸¦æ¥å¤æ™®æ¯”ç‡çš„å¾ˆå¤§æ”¹å˜ã€‚æ¯”å¦‚ï¼Œpé™ä½ 1%å¯èƒ½å°±ä¼šæŠ¹å»æ‰€æœ‰ç›ˆåˆ©ã€‚ç­–ç•¥é£é™©è¿‡å¤§æ—¶ï¼Œå³ä½¿æŠ•èµ„æ ‡çš„çš„é£é™©ä¸å¤§ï¼Œè¿™ä¸ªç­–ç•¥ä¹Ÿæœ‰è¾ƒå¤§æ¦‚ç‡æ— æ³•è¶…è¿‡ä¸šç»©æ ‡å‡†ã€‚æ‰€ä»¥ç­–ç•¥ç ”å‘è€…éœ€è¦æƒ³åŠæ³•å‡å°$p_{\theta}$ï¼Œæ¯”å¦‚è°ƒèŠ‚  $\left\{\pi_{+}, \pi_{-}, n\right\}$
   2. èµ„äº§ç»„åˆé£é™©æ˜¯å¸‚åœºä¸­å­˜åœ¨çš„é£é™©ï¼Œç”±é¦–å¸­é£é™©å®˜ç›‘æ§ã€‚ã€‚



## chapter 16 åŸºäºæœºå™¨å­¦ä¹ èµ„äº§é…ç½®

æœ¬ç« æå‡ºäº†åŸºäºå±‚æ¬¡èšç±»çš„èµ„äº§é…ç½®æ–¹æ³•--å±‚æ¬¡é£é™©å¹³ä»·æ–¹æ³•ï¼ˆHierarchical Risk Parity ï¼ŒHRPï¼‰ï¼Œç¨³å®šæ€§ä¸Šä¼˜äºä¼ ç»Ÿçš„åŸºäºäºŒæ¬¡è§„åˆ’çš„CLAç®—æ³•ã€‚

1. ä¸ç¨³å®šçš„ä¼ ç»ŸæŠ•èµ„ç»„åˆæ–¹æ³•ï¼šé©¬ç§‘ç»´èŒ¨æå‡ºäº†CLAç®—æ³•ï¼ˆCritical Line Algorithmï¼‰ï¼Œç”¨äºæ±‚è§£ä¸ç­‰å¼çº¦æŸä¸‹çš„äºŒæ¬¡è§„åˆ’é—®é¢˜ï¼Œå°¤å…¶æ˜¯èµ„äº§ç»„åˆä¼˜åŒ–é—®é¢˜ã€‚CLA çš„ç¼ºç‚¹æ˜¯é²æ£’æ€§ä¸é«˜ï¼Œå› ä¸ºéœ€è¦å¯¹èµ„äº§é—´åæ–¹å·®çŸ©é˜µå–é€†ï¼Œèµ„äº§ç»„åˆä¸­ç›¸å…³èµ„äº§ï¼ˆå¤šé‡å…±çº¿æ€§ï¼‰è¶Šå¤šï¼Œç»“æœè¶Šä¸ç¨³å®šï¼Œè¿™ä¾¿æ˜¯ Markowitzâ€™s curseã€‚æ­¤å¤–èµ„äº§è¶Šå¤šï¼Œç”¨äºä¼°è®¡åæ–¹å·®çŸ©é˜µæ‰€éœ€è¦çš„æ•°æ®ä¹Ÿè¶Šå¤šã€‚

2. å±‚æ¬¡é£é™©å¹³ä»·æ–¹æ³•ï¼ˆHRPï¼‰ï¼šä¸€ç§å±‚æ¬¡èšç±»çš„ç®—æ³•ï¼Œæ ¹æ®èµ„äº§é—´ç›¸å…³æ€§å°†æ‰€æœ‰èµ„äº§å»ºæ„æˆæ ‘çŠ¶å›¾ã€‚

   > å½“æˆ‘ä»¬å†³å®šæŠ•èµ„æ‘©æ ¹å¤§é€šæ—¶ï¼Œæ›´å¯èƒ½è€ƒè™‘å¢/å‡æŒé«˜ç››çš„è‚¡ç¥¨è€Œä¸æ˜¯ä¸€å®¶åœ°äº§å…¬å¸çš„è‚¡ç¥¨ï¼Œå› ä¸ºæ‘©æ ¹å’Œé«˜ç››åŒå±é‡‘èä¼ä¸šã€‚![image-20210719114039467](./image-20210719114039467.png)
   >
   > ![image-20210719114115246](./image-20210719114115246.png)

3. å®éªŒä¸­ HRP æ„å»ºçš„æŠ•èµ„ç»„åˆæ¯” CLA æ›´åˆ†æ•£ï¼Œé£é™©ä¹Ÿæ›´ä½ï¼ŒåŒæ—¶HRP ä¸éœ€è¦è®¡ç®—é€†çŸ©é˜µï¼Œæ›´ç¨³å®šã€‚

4. HRP ä¸ä»…å¯ä»¥ç”¨äºåœ¨ä¸åŒèµ„äº§ä¸Šé…ç½®èµ„é‡‘ï¼Œè¿˜å¯ç”¨äºåœ¨ä¸åŒç­–ç•¥ä¸Šé…ç½®èµ„é‡‘ã€‚

## å‚è€ƒ

1. ã€ŠAdvances in Financial Machine Learningã€‹
2. https://blog.csdn.net/weixin_38753422/article/details/100179559
3. https://zhuanlan.zhihu.com/p/29208399
4. https://zhuanlan.zhihu.com/p/109934805